[gd_scene load_steps=38 format=3 uid="uid://bu668uskhmtud"]

[ext_resource type="PackedScene" uid="uid://d08u2lgfvmeo7" path="res://modules/minigame/top_down_2d_controllers/character_controller/top_down_2d_character_controller.tscn" id="1_y7bht"]
[ext_resource type="Script" uid="uid://d221xrf858pj6" path="res://modules/minigame/earth_potato_herding/eph_player/eph_player.gd" id="2_42r0g"]
[ext_resource type="Script" uid="uid://crcm3yjgpr1fo" path="res://modules/minigame/top_down_2d_controllers/strategies/move_direction_strategy/td_2d_c_mds_input.gd" id="3_xdom8"]
[ext_resource type="Script" uid="uid://dgxvmcif1cdcd" path="res://modules/minigame/earth_potato_herding/eph_player/states/walk.gd" id="4_kub1s"]
[ext_resource type="Shader" uid="uid://cbdnos7wwo6gl" path="res://modules/minigame/earth_potato_herding/eph_player/circle.gdshader" id="5_hpfm4"]
[ext_resource type="Texture2D" uid="uid://cep6c7tibncl0" path="res://assets/minigames/earth_potato_herding/player/down/000.png" id="5_kqa6g"]
[ext_resource type="Texture2D" uid="uid://dbuhckvndbi1e" path="res://assets/minigames/earth_potato_herding/player/down/001.png" id="6_ce3p8"]
[ext_resource type="Texture2D" uid="uid://cind8duds5go0" path="res://assets/minigames/earth_potato_herding/player/down/002.png" id="7_36x0f"]
[ext_resource type="Texture2D" uid="uid://cp4p18xrfhp7g" path="res://assets/minigames/earth_potato_herding/player/down/003.png" id="8_8i45g"]
[ext_resource type="Texture2D" uid="uid://c5w3s6qbgo35b" path="res://assets/minigames/earth_potato_herding/player/down_idle/000.png" id="9_em5mn"]
[ext_resource type="Texture2D" uid="uid://cc4ad41ulefds" path="res://assets/minigames/earth_potato_herding/player/down_idle/001.png" id="10_70goh"]
[ext_resource type="Texture2D" uid="uid://cmqctnapx1ah7" path="res://assets/minigames/earth_potato_herding/player/down_idle/002.png" id="11_g7xvj"]
[ext_resource type="Texture2D" uid="uid://dgis05ksybkv1" path="res://assets/minigames/earth_potato_herding/player/down_idle/003.png" id="12_ya0nf"]
[ext_resource type="Texture2D" uid="uid://cnn3gw6a1r11f" path="res://assets/minigames/earth_potato_herding/player/side/000.png" id="13_y8mky"]
[ext_resource type="Texture2D" uid="uid://bp4g5slaeetah" path="res://assets/minigames/earth_potato_herding/player/side/001.png" id="14_b64fs"]
[ext_resource type="Texture2D" uid="uid://qxe87in06j5m" path="res://assets/minigames/earth_potato_herding/player/side/002.png" id="15_ts3si"]
[ext_resource type="Texture2D" uid="uid://duelyl0tkwlkj" path="res://assets/minigames/earth_potato_herding/player/side/003.png" id="16_7b0yw"]
[ext_resource type="Texture2D" uid="uid://cxmpp25qjrhyq" path="res://assets/minigames/earth_potato_herding/player/side/004.png" id="17_0p243"]
[ext_resource type="Texture2D" uid="uid://7tpfly2svenw" path="res://assets/minigames/earth_potato_herding/player/side_idle/000.png" id="18_2iluj"]
[ext_resource type="Texture2D" uid="uid://b7e0jlu7yctag" path="res://assets/minigames/earth_potato_herding/player/side_idle/001.png" id="19_smb82"]
[ext_resource type="Texture2D" uid="uid://0ders1g0tg1" path="res://assets/minigames/earth_potato_herding/player/side_idle/002.png" id="20_28hn0"]
[ext_resource type="Texture2D" uid="uid://b1twavk550bf" path="res://assets/minigames/earth_potato_herding/player/side_idle/003.png" id="21_bqn7h"]
[ext_resource type="Texture2D" uid="uid://nuh55m2ev6qr" path="res://assets/minigames/earth_potato_herding/player/up/000.png" id="22_wetjx"]
[ext_resource type="Texture2D" uid="uid://bgb2s8mo3l54s" path="res://assets/minigames/earth_potato_herding/player/up/001.png" id="23_g8eq4"]
[ext_resource type="Texture2D" uid="uid://danud856wckrp" path="res://assets/minigames/earth_potato_herding/player/up/002.png" id="24_xibuc"]
[ext_resource type="Texture2D" uid="uid://p0867gbgauci" path="res://assets/minigames/earth_potato_herding/player/up/003.png" id="25_cxa6y"]
[ext_resource type="Texture2D" uid="uid://fjya28a1kbap" path="res://assets/minigames/earth_potato_herding/player/up_idle/000.png" id="26_fupb5"]
[ext_resource type="Texture2D" uid="uid://baomeybwrngqs" path="res://assets/minigames/earth_potato_herding/player/up_idle/001.png" id="27_d7y3c"]
[ext_resource type="Texture2D" uid="uid://cofm6ne3sfgsd" path="res://assets/minigames/earth_potato_herding/player/up_idle/002.png" id="28_qi0pf"]
[ext_resource type="Texture2D" uid="uid://b3qj51j8xn3yo" path="res://assets/minigames/earth_potato_herding/player/up_idle/003.png" id="29_uv8nd"]

[sub_resource type="Resource" id="Resource_kub1s"]
script = ExtResource("3_xdom8")
metadata/_custom_type_script = "uid://crcm3yjgpr1fo"

[sub_resource type="SpriteFrames" id="SpriteFrames_gfwjq"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_kqa6g")
}, {
"duration": 1.0,
"texture": ExtResource("6_ce3p8")
}, {
"duration": 1.0,
"texture": ExtResource("7_36x0f")
}, {
"duration": 1.0,
"texture": ExtResource("8_8i45g")
}],
"loop": true,
"name": &"down",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_em5mn")
}, {
"duration": 1.0,
"texture": ExtResource("10_70goh")
}, {
"duration": 1.0,
"texture": ExtResource("11_g7xvj")
}, {
"duration": 1.0,
"texture": ExtResource("12_ya0nf")
}],
"loop": true,
"name": &"down_idle",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_y8mky")
}, {
"duration": 1.0,
"texture": ExtResource("14_b64fs")
}, {
"duration": 1.0,
"texture": ExtResource("15_ts3si")
}, {
"duration": 1.0,
"texture": ExtResource("16_7b0yw")
}, {
"duration": 1.0,
"texture": ExtResource("17_0p243")
}],
"loop": true,
"name": &"left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("18_2iluj")
}, {
"duration": 1.0,
"texture": ExtResource("19_smb82")
}, {
"duration": 1.0,
"texture": ExtResource("20_28hn0")
}, {
"duration": 1.0,
"texture": ExtResource("21_bqn7h")
}],
"loop": true,
"name": &"left_idle",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_y8mky")
}, {
"duration": 1.0,
"texture": ExtResource("14_b64fs")
}, {
"duration": 1.0,
"texture": ExtResource("15_ts3si")
}, {
"duration": 1.0,
"texture": ExtResource("16_7b0yw")
}, {
"duration": 1.0,
"texture": ExtResource("17_0p243")
}],
"loop": true,
"name": &"right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("18_2iluj")
}, {
"duration": 1.0,
"texture": ExtResource("19_smb82")
}, {
"duration": 1.0,
"texture": ExtResource("20_28hn0")
}, {
"duration": 1.0,
"texture": ExtResource("21_bqn7h")
}],
"loop": true,
"name": &"right_idle",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("22_wetjx")
}, {
"duration": 1.0,
"texture": ExtResource("23_g8eq4")
}, {
"duration": 1.0,
"texture": ExtResource("24_xibuc")
}, {
"duration": 1.0,
"texture": ExtResource("25_cxa6y")
}],
"loop": true,
"name": &"up",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("26_fupb5")
}, {
"duration": 1.0,
"texture": ExtResource("27_d7y3c")
}, {
"duration": 1.0,
"texture": ExtResource("28_qi0pf")
}, {
"duration": 1.0,
"texture": ExtResource("29_uv8nd")
}],
"loop": true,
"name": &"up_idle",
"speed": 4.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_kub1s"]
radius = 116.069

[sub_resource type="CircleShape2D" id="CircleShape2D_hpfm4"]
radius = 116.039

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ho6ah"]
resource_local_to_scene = true
shader = ExtResource("5_hpfm4")
shader_parameter/min_radius = 20.5
shader_parameter/size = 6.5
shader_parameter/color = Color(0.725863, 0.73, 0.6059, 0.294118)

[sub_resource type="Gradient" id="Gradient_63sd7"]
offsets = PackedFloat32Array(0.461039, 0.506494)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ntfs8"]
gradient = SubResource("Gradient_63sd7")
width = 500
height = 500
fill_from = Vector2(0, 1)
fill_to = Vector2(0, 1)
metadata/_snap_count = 14

[node name="EPHPlayer" instance=ExtResource("1_y7bht")]
collision_layer = 1
collision_mask = 1
script = ExtResource("2_42r0g")
_base_speed = Vector2(300, 300)
_move_direction_strategy = SubResource("Resource_kub1s")

[node name="StateMachine" parent="." index="0" node_paths=PackedStringArray("_states", "_start_state")]
_states = [NodePath("Walk")]
_start_state = NodePath("Walk")

[node name="Walk" type="Node" parent="StateMachine" index="0"]
script = ExtResource("4_kub1s")
state_name = "walk"

[node name="Sprite" parent="." index="2"]
scale = Vector2(0.3, 0.3)
sprite_frames = SubResource("SpriteFrames_gfwjq")
animation = &"left"

[node name="YounglingHerdArea" type="Area2D" parent="." index="3"]
visible = false
collision_layer = 0
collision_mask = 2
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="YounglingHerdArea" index="0"]
shape = SubResource("CircleShape2D_kub1s")
metadata/_edit_lock_ = true

[node name="EvilSpiritRepelArea" type="Area2D" parent="." index="4"]
visible = false
collision_layer = 0
collision_mask = 4
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="EvilSpiritRepelArea" index="0"]
visible = false
shape = SubResource("CircleShape2D_hpfm4")
metadata/_edit_lock_ = true

[node name="HerdCircle" type="Sprite2D" parent="." index="5"]
material = SubResource("ShaderMaterial_ho6ah")
texture = SubResource("GradientTexture2D_ntfs8")

[connection signal="body_entered" from="YounglingHerdArea" to="." method="_on_youngling_herd_area_body_entered"]
[connection signal="body_exited" from="YounglingHerdArea" to="." method="_on_youngling_herd_area_body_exited"]
[connection signal="body_entered" from="EvilSpiritRepelArea" to="." method="_on_evil_spirit_repel_area_body_entered"]
[connection signal="body_exited" from="EvilSpiritRepelArea" to="." method="_on_evil_spirit_repel_area_body_exited"]
